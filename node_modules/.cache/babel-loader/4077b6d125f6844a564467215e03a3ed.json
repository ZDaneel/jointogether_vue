{"remainingRequest":"/Users/zdaneel/Downloads/Java/JavaEE/demo/vue/node_modules/babel-loader/lib/index.js!/Users/zdaneel/Downloads/Java/JavaEE/demo/vue/src/router/index.js","dependencies":[{"path":"/Users/zdaneel/Downloads/Java/JavaEE/demo/vue/src/router/index.js","mtime":1654008038473},{"path":"/Users/zdaneel/Downloads/Java/JavaEE/demo/vue/babel.config.js","mtime":1653300116000},{"path":"/Users/zdaneel/Downloads/Java/JavaEE/demo/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zdaneel/Downloads/Java/JavaEE/demo/vue/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9Mb2dpbi52dWUnKTsKICB9Cn0sIHsKICBwYXRoOiAnL3JlZ2lzdGVyJywKICBuYW1lOiAnUmVnaXN0ZXInLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvUmVnaXN0ZXIudnVlJyk7CiAgfQp9LCB7CiAgcGF0aDogJy80MDQnLAogIG5hbWU6ICc0MDQnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvNDA0LnZ1ZScpOwogIH0KfV07CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgcm91dGVzOiByb3V0ZXMKfSk7IC8vIOaPkOS+m+S4gOS4qumHjee9rui3r+eUseeahOaWueazlQoKZXhwb3J0IHZhciByZXNldFJvdXRlciA9IGZ1bmN0aW9uIHJlc2V0Um91dGVyKCkgewogIHJvdXRlci5tYXRjaGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgICBtb2RlOiAnaGlzdG9yeScsCiAgICBiYXNlOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwKICAgIHJvdXRlczogcm91dGVzCiAgfSk7Cn07IC8vIOazqOaEj++8muWIt+aWsOmhtemdouS8muWvvOiHtOmhtemdoui3r+eUsemHjee9rgoKZXhwb3J0IHZhciBzZXRSb3V0ZXMgPSBmdW5jdGlvbiBzZXRSb3V0ZXMoKSB7CiAgdmFyIHN0b3JlTWVudXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibWVudXMiKTsKCiAgaWYgKHN0b3JlTWVudXMpIHsKICAgIC8vIOiOt+WPluW9k+WJjeeahOi3r+eUseWvueixoeWQjeensOaVsOe7hAogICAgdmFyIGN1cnJlbnRSb3V0ZU5hbWVzID0gcm91dGVyLmdldFJvdXRlcygpLm1hcChmdW5jdGlvbiAodikgewogICAgICByZXR1cm4gdi5uYW1lOwogICAgfSk7CgogICAgaWYgKCFjdXJyZW50Um91dGVOYW1lcy5pbmNsdWRlcygnTWFuYWdlJykpIHsKICAgICAgLy8g5ou86KOF5Yqo5oCB6Lev55SxCiAgICAgIHZhciBtYW5hZ2VSb3V0ZSA9IHsKICAgICAgICBwYXRoOiAnLycsCiAgICAgICAgbmFtZTogJ01hbmFnZScsCiAgICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgICAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9NYW5hZ2UudnVlJyk7CiAgICAgICAgfSwKICAgICAgICByZWRpcmVjdDogIi9ob21lIiwKICAgICAgICBjaGlsZHJlbjogW3sKICAgICAgICAgIHBhdGg6ICdwZXJzb24nLAogICAgICAgICAgbmFtZTogJ+S4quS6uuS/oeaBrycsCiAgICAgICAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgICAgICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvUGVyc29uLnZ1ZScpOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIHBhdGg6ICdwYXNzd29yZCcsCiAgICAgICAgICBuYW1lOiAn5L+u5pS55a+G56CBJywKICAgICAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICAgICAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy9QYXNzd29yZC52dWUnKTsKICAgICAgICAgIH0KICAgICAgICB9XQogICAgICB9OwogICAgICB2YXIgbWVudXMgPSBKU09OLnBhcnNlKHN0b3JlTWVudXMpOwogICAgICBtZW51cy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0ucGF0aCkgewogICAgICAgICAgLy8g5b2T5LiU5LuF5b2TcGF0aOS4jeS4uuepuueahOaXtuWAmeaJjeWOu+iuvue9rui3r+eUsQogICAgICAgICAgdmFyIGl0ZW1NZW51ID0gewogICAgICAgICAgICBwYXRoOiBpdGVtLnBhdGgucmVwbGFjZSgiLyIsICIiKSwKICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgICAgICAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy8nICsgaXRlbS5wYWdlUGF0aCArICcudnVlJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgICBtYW5hZ2VSb3V0ZS5jaGlsZHJlbi5wdXNoKGl0ZW1NZW51KTsKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICBpdGVtLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgaWYgKGl0ZW0ucGF0aCkgewogICAgICAgICAgICAgIHZhciBfaXRlbU1lbnUgPSB7CiAgICAgICAgICAgICAgICBwYXRoOiBpdGVtLnBhdGgucmVwbGFjZSgiLyIsICIiKSwKICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaW1wb3J0KCcuLi92aWV3cy8nICsgaXRlbS5wYWdlUGF0aCArICcudnVlJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBtYW5hZ2VSb3V0ZS5jaGlsZHJlbi5wdXNoKF9pdGVtTWVudSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7IC8vIOWKqOaAgea3u+WKoOWIsOeOsOWcqOeahOi3r+eUseWvueixoeS4reWOuwoKICAgICAgcm91dGVyLmFkZFJvdXRlKG1hbmFnZVJvdXRlKTsKICAgIH0KICB9Cn07IC8vIOmHjee9ruaIkeWwseWGjXNldOS4gOasoei3r+eUsQoKc2V0Um91dGVzKCk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJjdXJyZW50UGF0aE5hbWUiLCB0by5uYW1lKTsgLy8g6K6+572u5b2T5YmN55qE6Lev55Sx5ZCN56ewCgogIHN0b3JlLmNvbW1pdCgic2V0UGF0aCIpOyAvLyDmnKrmib7liLDot6/nlLHnmoTmg4XlhrUKCiAgaWYgKCF0by5tYXRjaGVkLmxlbmd0aCkgewogICAgdmFyIHN0b3JlTWVudXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibWVudXMiKTsKCiAgICBpZiAoc3RvcmVNZW51cykgewogICAgICBuZXh0KCIvNDA0Iik7CiAgICB9IGVsc2UgewogICAgICAvLyDot7Plm57nmbvlvZXpobXpnaIKICAgICAgbmV4dCgiL2xvZ2luIik7CiAgICB9CiAgfSAvLyDlhbbku5bnmoTmg4XlhrXpg73mlL7ooYwKCgogIG5leHQoKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["/Users/zdaneel/Downloads/Java/JavaEE/demo/vue/src/router/index.js"],"names":["Vue","VueRouter","store","use","routes","path","name","component","router","mode","base","process","env","BASE_URL","resetRouter","matcher","setRoutes","storeMenus","localStorage","getItem","currentRouteNames","getRoutes","map","v","includes","manageRoute","redirect","children","menus","JSON","parse","forEach","item","itemMenu","replace","pagePath","push","length","addRoute","beforeEach","to","from","next","setItem","commit","matched"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport store from \"@/store\";\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/login',\n    name: 'Login',\n    component: () => import('../views/Login.vue')\n  },\n  {\n    path: '/register',\n    name: 'Register',\n    component: () => import('../views/Register.vue')\n  },\n  {\n    path: '/404',\n    name: '404',\n    component: () => import('../views/404.vue')\n  },\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\n// 提供一个重置路由的方法\nexport const resetRouter = () => {\n  router.matcher = new VueRouter({\n    mode: 'history',\n    base: process.env.BASE_URL,\n    routes\n  })\n}\n\n// 注意：刷新页面会导致页面路由重置\nexport const setRoutes = () => {\n  const storeMenus = localStorage.getItem(\"menus\");\n  if (storeMenus) {\n\n    // 获取当前的路由对象名称数组\n    const currentRouteNames = router.getRoutes().map(v => v.name)\n    if (!currentRouteNames.includes('Manage')) {\n      // 拼装动态路由\n      const manageRoute = { path: '/', name: 'Manage', component: () => import('../views/Manage.vue'), redirect: \"/home\", children: [\n          { path: 'person', name: '个人信息', component: () => import('../views/Person.vue')},\n          { path: 'password', name: '修改密码', component: () => import('../views/Password.vue')}\n        ] }\n      const menus = JSON.parse(storeMenus)\n      menus.forEach(item => {\n        if (item.path) {  // 当且仅当path不为空的时候才去设置路由\n          let itemMenu = { path: item.path.replace(\"/\", \"\"), name: item.name, component: () => import('../views/' + item.pagePath + '.vue')}\n          manageRoute.children.push(itemMenu)\n        } else if(item.children.length) {\n          item.children.forEach(item => {\n            if (item.path) {\n              let itemMenu = { path: item.path.replace(\"/\", \"\"), name: item.name, component: () => import('../views/' + item.pagePath + '.vue')}\n              manageRoute.children.push(itemMenu)\n            }\n          })\n        }\n      })\n      // 动态添加到现在的路由对象中去\n      router.addRoute(manageRoute)\n    }\n\n  }\n}\n\n// 重置我就再set一次路由\nsetRoutes()\n\n\nrouter.beforeEach((to, from, next) => {\n  localStorage.setItem(\"currentPathName\", to.name)  // 设置当前的路由名称\n  store.commit(\"setPath\")\n\n  // 未找到路由的情况\n  if (!to.matched.length) {\n    const storeMenus = localStorage.getItem(\"menus\")\n    if (storeMenus) {\n      next(\"/404\")\n    } else {\n      // 跳回登录页面\n      next(\"/login\")\n    }\n  }\n  // 其他的情况都放行\n  next()\n\n})\n\nexport default router\n"]}]}